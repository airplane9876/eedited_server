generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DB_DEVELOPMENT_URL")
}

model users {
  userId         String       @id @db.VarChar(50)
  password       String       @db.VarChar(100)
  birthday       DateTime     @db.Date()
  email          String       @unique @db.VarChar(100)
  followerCnt    Int          @default(0)
  uploadVideoCnt Int          @default(0)
  proTag         Boolean      @default(false)
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt
  videoliker     videoliker[]
  videos         videos[]
}

model videoliker {
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  userId    String   @db.VarChar(50)
  videoId   Int
  users     users    @relation(fields: [userId], references: [userId])
  videos    videos   @relation(fields: [videoId], references: [id])

  @@id([userId, videoId])
  @@index([videoId], name: "videoId")
}

model videos {
  id         Int          @id @default(autoincrement())
  title      String       @db.VarChar(50)
  discription  String     @db.Text
  url        String       @db.VarChar(100)
  likeCnt    Int          @default(0)
  viewCnt    Int          @default(0)
  createdAt  DateTime     @default(now())
  updatedAt  DateTime     @updatedAt
  uploader   String      @db.VarChar(50)
  users      users       @relation(fields: [uploader], references: [userId])
  videoliker videoliker[]

  @@index([uploader], name: "uploader")
}
